<!DOCTYPE html>
<html>
    <head>
	<meta charset="utf-8">
	<title>Login</title>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css">
	<link href="styles.css" rel="stylesheet" type="text/css">
	<script defer>
	    function findGetParameter(parameterName) {
		var result = null,
		    tmp = [];
		var items = location.search.substr(1).split("&");
		for (var index = 0; index < items.length; index++) {
		    tmp = items[index].split("=");
		    if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
		}
		return result;
	    }
	    // The replace is because PHP urlencode makes spaces '+' instead of '%20' lmao
	    const message = findGetParameter("message").replace(/\+/g, ' ');
	    window.onload = () => {message && (document.querySelector(".feedback-alert").innerText = message)};
	</script>
    </head>
    <body>
	<nav>
	    <ul>
		<li><a href="/">Login</a></li>
		<li><a href="/flag.php">Flag</a></li>
		<li class="align-end"><a href="/logout.php">Log out</a></li>
	    </ul>
	</nav>
	<div class="login">
	    <h1>Login</h1>
	    <div class="feedback-alert"></div>
	    <form action="login.php" method="post">
		<label for="username">
		    <i class="fas fa-user"></i>
		</label>
		<input type="text" name="username" placeholder="Username" id="username" required>
		<label for="password">
		    <i class="fas fa-lock"></i>
		</label>
		<input type="password" name="password" placeholder="Password" id="password" required>
		<input type="submit" value="Login">
	    </form>
	</div>
    </body>
</html>
